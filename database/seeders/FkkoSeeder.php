<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;
use App\Models\FkkoCode;

class FkkoSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Extended FKKO codes list for MVP (Covering main categories: Agri, Mining, Manufacturing, Consumer)
        $codes = [
            // --- СЕЛЬСКОЕ ХОЗЯЙСТВО (Блок 1) ---
            ['code' => '1 11 110 01 00 3', 'name' => 'Навоз крупного рогатого скота свежий', 'hazard_class' => 4, 'category' => 'Отходы животноводства'],
            ['code' => '1 11 110 02 00 4', 'name' => 'Навоз крупного рогатого скота перепревший', 'hazard_class' => 5, 'category' => 'Отходы животноводства'],
            ['code' => '1 12 110 01 00 3', 'name' => 'Помет куриный свежий', 'hazard_class' => 3, 'category' => 'Отходы птицеводства'],
            ['code' => '1 12 110 02 29 4', 'name' => 'Помет куриный перепревший', 'hazard_class' => 4, 'category' => 'Отходы птицеводства'],

            // --- ОБРАБАТЫВАЮЩИЕ ПРОИЗВОДСТВА (Блок 3) ---
            // Древесина
            ['code' => '3 05 311 01 33 5', 'name' => 'Опилки и стружка древесные (разнородные)', 'hazard_class' => 5, 'category' => 'Древесина'],
            ['code' => '3 05 313 11 20 4', 'name' => 'Опил древесный, загрязненный нефтепродуктами', 'hazard_class' => 4, 'category' => 'Древесина'],

            // Нефтепродукты и масла
            ['code' => '4 06 110 01 31 3', 'name' => 'Масла моторные отработанные', 'hazard_class' => 3, 'category' => 'Нефтепродукты'],
            ['code' => '4 06 120 01 31 3', 'name' => 'Масла трансмиссионные отработанные', 'hazard_class' => 3, 'category' => 'Нефтепродукты'],
            ['code' => '4 06 130 01 31 3', 'name' => 'Масла гидравлические отработанные, не содержащие галогены', 'hazard_class' => 3, 'category' => 'Нефтепродукты'],
            ['code' => '4 06 310 01 31 3', 'name' => 'Масла индустриальные отработанные', 'hazard_class' => 3, 'category' => 'Нефтепродукты'],
            ['code' => '9 11 200 01 39 4', 'name' => 'Ветошь промасленная (содержание масла < 15%)', 'hazard_class' => 4, 'category' => 'Нефтепродукты'],
            ['code' => '9 11 200 02 39 3', 'name' => 'Ветошь промасленная (содержание масла >= 15%)', 'hazard_class' => 3, 'category' => 'Нефтепродукты'],

            // Металлы
            ['code' => '4 61 200 01 51 5', 'name' => 'Лом и отходы черных металлов незагрязненные', 'hazard_class' => 5, 'category' => 'Металлы'],
            ['code' => '4 61 200 02 51 4', 'name' => 'Остатки и огарки стальных сварочных электродов', 'hazard_class' => 4, 'category' => 'Металлы'],
            ['code' => '4 62 100 01 51 5', 'name' => 'Лом и отходы алюминия несортированные', 'hazard_class' => 5, 'category' => 'Металлы'],
            ['code' => '4 62 200 01 51 5', 'name' => 'Лом и отходы меди несортированные', 'hazard_class' => 5, 'category' => 'Металлы'],

            // --- ПОТРЕБЛЕНИЕ И КОММУНАЛЬНЫЕ (Блок 4/7) ---
            // Бумага/Картон
            ['code' => '4 05 122 02 60 5', 'name' => 'Отходы бумаги и картона от канцелярской деятельности и делопроизводства', 'hazard_class' => 5, 'category' => 'Бумага и картон'],
            ['code' => '4 05 922 01 60 5', 'name' => 'Отходы упаковочного картона незагрязненные', 'hazard_class' => 5, 'category' => 'Бумага и картон'],
            ['code' => '4 05 200 00 00 0', 'name' => 'Отходы бумаги и картона с пропиткой и покрытиями', 'hazard_class' => 4, 'category' => 'Бумага и картон'],

            // Полимеры
            ['code' => '4 34 110 04 51 4', 'name' => 'Обрезь и брак полиэтиленовой пленки, загрязненные', 'hazard_class' => 4, 'category' => 'Полимеры'],
            ['code' => '4 34 110 02 29 5', 'name' => 'Отходы пленки полиэтилена и изделий из нее незагрязненные', 'hazard_class' => 5, 'category' => 'Полимеры'],
            ['code' => '4 34 120 02 29 5', 'name' => 'Отходы полипропиленовой тары незагрязненной', 'hazard_class' => 5, 'category' => 'Полимеры'],
            ['code' => '4 34 141 00 52 5', 'name' => 'Отходы тары из полиэтилентерефталата (ПЭТ) незагрязненной', 'hazard_class' => 5, 'category' => 'Полимеры'],

            // Стекло
            ['code' => '4 51 101 00 20 5', 'name' => 'Бой стекла', 'hazard_class' => 5, 'category' => 'Стекло'],

            // Резина/Шины
            ['code' => '9 21 101 01 52 4', 'name' => 'Шины пневматические автомобильные отработанные', 'hazard_class' => 4, 'category' => 'Транспорт'],
            ['code' => '9 21 101 02 52 4', 'name' => 'Камеры пневматических шин автомобильных отработанные', 'hazard_class' => 4, 'category' => 'Транспорт'],

            // Аккумуляторы/Батарейки
            ['code' => '9 20 110 01 53 2', 'name' => 'Аккумуляторы свинцовые отработанные неповрежденные, с электролитом', 'hazard_class' => 2, 'category' => 'Аккумуляторы'],
            ['code' => '9 20 120 01 53 2', 'name' => 'Аккумуляторы свинцовые отработанные, со слитым электролитом', 'hazard_class' => 3, 'category' => 'Аккумуляторы'],
            ['code' => '4 82 201 33 53 2', 'name' => 'Одиночные гальванические элементы (батарейки) марганцево-цинковые', 'hazard_class' => 2, 'category' => 'Аккумуляторы'],

            // Лампы
            ['code' => '4 71 101 01 52 1', 'name' => 'Лампы ртутные, ртутно-кварцевые, люминесцентные, утратившие потребительские свойства', 'hazard_class' => 1, 'category' => 'Осветительные устройства'],
            ['code' => '4 82 411 00 52 5', 'name' => 'Лампы накаливания утратившие потребительские свойства', 'hazard_class' => 5, 'category' => 'Осветительные устройства'],
            ['code' => '4 71 102 11 52 1', 'name' => 'Лампы светодиодные утратившие потребительские свойства', 'hazard_class' => 4, 'category' => 'Осветительные устройства'],

            // Офисная техника
            ['code' => '4 81 201 01 52 4', 'name' => 'Картриджи печатающих устройств с содержанием тонера 7% и более', 'hazard_class' => 4, 'category' => 'Оборудование компьютерное'],
            ['code' => '4 81 202 01 52 4', 'name' => 'Клавиатура, манипулятор "мышь" утратившие потребительские свойства', 'hazard_class' => 4, 'category' => 'Оборудование компьютерное'],
            ['code' => '4 81 203 01 52 4', 'name' => 'Системный блок компьютера утративший потребительские свойства', 'hazard_class' => 4, 'category' => 'Оборудование компьютерное'],
            ['code' => '4 81 204 01 52 4', 'name' => 'Мониторы компьютерные плазменные/ЖК утратившие свойства', 'hazard_class' => 4, 'category' => 'Оборудование компьютерное'],

            // ТКО (Коммунальные)
            ['code' => '7 33 100 01 72 4', 'name' => 'Мусор от офисных и бытовых помещений организаций несортированный (исключая крупногабаритный)', 'hazard_class' => 4, 'category' => 'Твердые коммунальные отходы'],
            ['code' => '7 33 100 02 72 5', 'name' => 'Мусор от офисных и бытовых помещений организаций несортированный практически неопасный', 'hazard_class' => 5, 'category' => 'Твердые коммунальные отходы'],
            ['code' => '7 31 110 01 72 4', 'name' => 'Смет с территории гаража, автостоянки малоопасный', 'hazard_class' => 4, 'category' => 'Уборка территорий'],
            ['code' => '7 31 200 01 72 4', 'name' => 'Смет с территории предприятия малоопасный', 'hazard_class' => 4, 'category' => 'Уборка территорий'],
            ['code' => '7 33 210 01 72 4', 'name' => 'Мусор и смет производственных помещений малоопасный', 'hazard_class' => 4, 'category' => 'Промышленный мусор'],
            ['code' => '7 33 390 01 71 4', 'name' => 'Смет от уборки складских помещений малоопасный', 'hazard_class' => 4, 'category' => 'Промышленный мусор'],

            // --- User Specific or Missing Codes from recent Acts ---
            ['code' => '4 34 110 04 51 5', 'name' => 'Отходы полиэтиленовой тары незагрязненной', 'hazard_class' => 5, 'category' => 'Полимеры'],
            ['code' => '4 04 190 00 51 5', 'name' => 'Прочая продукция из натуральной древесины, утратившая потребительские свойства, незагрязненная', 'hazard_class' => 5, 'category' => 'Древесина'],
            ['code' => '4 43 118 71 62 5', 'name' => 'Фильтры рукавные из натуральных и синтетических волокон, загрязненные неорганическими нерастворимыми минеральными веществами', 'hazard_class' => 5, 'category' => 'Фильтры'],

            // Строительные
            ['code' => '8 11 111 11 51 5', 'name' => 'Отходы бетона в кусковой форме', 'hazard_class' => 5, 'category' => 'Строительство'],
            ['code' => '8 12 101 01 72 4', 'name' => 'Мусор от сноса и разборки зданий несортированный', 'hazard_class' => 4, 'category' => 'Строительство'],
            ['code' => '8 23 101 01 21 5', 'name' => 'Отходы (мусор) от строительных и ремонтных работ', 'hazard_class' => 5, 'category' => 'Строительство']
        ];

        // Mass insert (truncate first ideally, or use upsert)
        // Using upsert for idempotency
        FkkoCode::upsert($codes, ['code'], ['name', 'hazard_class', 'category']);

        $count = count($codes);
        $this->command->info("Seeded $count FKKO entries.");
    }
}
